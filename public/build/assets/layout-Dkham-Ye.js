class g{constructor(){this.html=document.getElementsByTagName("html")[0],this.config={},this.defaultConfig=window.config}initVerticalMenu(){const e=document.querySelectorAll(".navbar-nav li .collapse");if(document.querySelectorAll(".navbar-nav li [data-bs-toggle='collapse']").forEach(t=>{t.addEventListener("click",function(i){i.preventDefault()})}),e.forEach(t=>{t.addEventListener("show.bs.collapse",function(i){const n=i.target.closest(".collapse.show");document.querySelectorAll(".navbar-nav .collapse.show").forEach(a=>{a!==i.target&&a!==n&&new bootstrap.Collapse(a).hide()})})}),document.querySelector(".navbar-nav")){let t=function(n,a,o,l){return n/=l/2,n<1?o/2*n*n+a:(n--,-o/2*(n*(n-2)-1)+a)},i=function(n,a,o){var l=n.scrollTop,f=a-l,u=0,d=20,h=function(){u+=d;var m=t(u,l,f,o);n.scrollTop=m,u<o&&setTimeout(h,d)};h()};var r=t,s=i;document.querySelectorAll(".navbar-nav a").forEach(function(n){var a=window.location.href.split(/[?#]/)[0];if(n.href===a){n.classList.add("active"),n.parentNode.classList.add("active");let o=n.closest(".collapse");for(;o;)o.classList.add("show"),o.parentElement.children[0].classList.add("active"),o.parentElement.children[0].setAttribute("aria-expanded","true"),o=o.parentElement.closest(".collapse")}}),setTimeout(function(){var n=document.querySelector(".nav-item li a.active");if(n!=null){var a=document.querySelector(".main-nav .simplebar-content-wrapper"),o=n.offsetTop-300;a&&o>100&&i(a,o,600)}},200)}}initConfig(){this.defaultConfig=JSON.parse(JSON.stringify(window.defaultConfig)),this.config=JSON.parse(JSON.stringify(window.config)),this.setSwitchFromConfig()}changeMenuColor(e){this.config.menu.color=e,this.html.setAttribute("data-menu-color",e),this.setSwitchFromConfig()}changeMenuSize(e,c=!0){this.html.setAttribute("data-menu-size",e),c&&(this.config.menu.size=e,this.setSwitchFromConfig())}changeThemeMode(e){this.config.theme=e,this.html.setAttribute("data-bs-theme",e),this.setSwitchFromConfig()}changeTopbarColor(e){this.config.topbar.color=e,this.html.setAttribute("data-topbar-color",e),this.setSwitchFromConfig()}resetTheme(){this.config=JSON.parse(JSON.stringify(window.defaultConfig)),this.changeMenuColor(this.config.menu.color),this.changeMenuSize(this.config.menu.size),this.changeThemeMode(this.config.theme),this.changeTopbarColor(this.config.topbar.color),this._adjustLayout()}initSwitchListener(){var e=this;document.querySelectorAll("input[name=data-menu-color]").forEach(function(t){t.addEventListener("change",function(i){e.changeMenuColor(t.value)})}),document.querySelectorAll("input[name=data-menu-size]").forEach(function(t){t.addEventListener("change",function(i){e.changeMenuSize(t.value)})}),document.querySelectorAll("input[name=data-bs-theme]").forEach(function(t){t.addEventListener("change",function(i){e.changeThemeMode(t.value)})}),document.querySelectorAll("input[name=data-topbar-color]").forEach(function(t){t.addEventListener("change",function(i){e.changeTopbarColor(t.value)})});var c=document.getElementById("light-dark-mode");c&&c.addEventListener("click",function(t){e.config.theme==="light"?e.changeThemeMode("dark"):e.changeThemeMode("light")});var r=document.querySelector("#reset-layout");r&&r.addEventListener("click",function(t){e.resetTheme()});var s=document.querySelector(".button-toggle-menu");s&&s.addEventListener("click",function(){var t=e.config.menu.size,i=e.html.getAttribute("data-menu-size",t);i!=="hidden"?i==="sm-hover-active"?e.changeMenuSize(t=="sm-hover-active"?"sm-hover":t,!0):e.changeMenuSize("sm-hover-active",!0):e.showBackdrop(),e.html.classList.toggle("sidebar-enable")})}showBackdrop(){const e=document.createElement("div");e.classList="offcanvas-backdrop fade show",document.body.appendChild(e),document.body.style.overflow="hidden",window.innerWidth>1040&&(document.body.style.paddingRight="15px");const c=this;e.addEventListener("click",function(r){c.html.classList.remove("sidebar-enable"),document.body.removeChild(e),document.body.style.overflow=null,document.body.style.paddingRight=null})}initWindowSize(){var e=this;window.addEventListener("resize",function(c){e._adjustLayout()})}_adjustLayout(){var e=this;window.innerWidth<=1140?e.changeMenuSize("hidden",!1):e.changeMenuSize(e.config.menu.size)}setSwitchFromConfig(){sessionStorage.setItem("__METOR_CONFIG__",JSON.stringify(this.config)),document.querySelectorAll(".settings-bar input[type=radio]").forEach(function(i){i.checked=!1});var e=this.config;if(e){var c=document.querySelector("input[type=radio][name=data-bs-theme][value="+e.theme+"]"),r=document.querySelector("input[type=radio][name=data-topbar-color][value="+e.topbar.color+"]"),s=document.querySelector("input[type=radio][name=data-menu-size][value="+e.menu.size+"]"),t=document.querySelector("input[type=radio][name=data-menu-color][value="+e.menu.color+"]");c&&(c.checked=!0),r&&(r.checked=!0),s&&(s.checked=!0),t&&(t.checked=!0)}}init(){this.initVerticalMenu(),this.initConfig(),this.initSwitchListener(),this.initWindowSize(),this._adjustLayout(),this.setSwitchFromConfig()}}new g().init();
